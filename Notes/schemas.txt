1ï¸âƒ£ In

Purpose:Stores al

users
-----
id (PK)
name
email (UNIQUE)
password_hash
is_active
created_at
updated_at


âœ” Common identity
âœ” Works with JWT
âœ” Future-safe

2ï¸âƒ£ ROLES

Purpose: Defines system roles (RBAC).

roles
-----
id (PK)
role_name
-- ADVERTISER
-- SCREEN_OWNER
-- AD_EDITOR
-- ADMIN


âœ” Clean role separation
âœ” Industry standard

3ï¸âƒ£ USER_ROLES

Purpose: Maps users to roles (many-to-many).

user_roles
----------
id (PK)
user_id (FK â†’ users.id)
role_id (FK â†’ roles.id)


âœ” One user can have multiple roles
âœ” No future rewrite

4ï¸âƒ£ LOCATIONS

P Physical locations of screens.

locations
---------
id (PK)
area_name
city
latitude
longitude
created_at


âœ” Map view
âœ” Pricing
âœ” AI rules

5ï¸âƒ£ SCREEN_CATEGORIES

Purpose:Screen ranking

screen_categories
-----------------
id (PK)
category_name
-- SHOP
-- MALL
-- ROADSIDE
-- PUBLIC_PLACE
description
created_at


âœ” Filtering
âœ” Pricing rules
âœ” AI logic

6ï¸âƒ£ SCREENS

Purple Core business asset.

screens
-------
id (PK)
screen_name
owner_id (FK â†’ users.id)   -- SCREEN_OWNER
category_id (FK â†’ screen_categories.id)
location_id (FK â†’ locations.id)
resolution
size
base_price
status  -- PENDING / ACTIVE / INACTIVE
description
created_at
updated_at


âœ” Owned by Screen Owner
âœ” Approved by Admin
âœ” Used everywhere

7ï¸âƒ£ TIME_SLOTS

Purpose: Bookable time units.

time_slots
----------
id (PK)
start_time
end_time
slot_type  -- PEAK / NON_PEAK
price_multiplier
created_at


âœ” Green/Red calendar
âœ” Dynamic pricing

8ï¸âƒ£ ADVERTISEMENTS

Purpose: Ad content + editor workflow.

advertisements
--------------
id (PK)
advertiser_id (FK â†’ users.id)
editor_id (FK â†’ users.id, NULL)   -- AD_EDITOR
media_url
media_type  -- IMAGE / VIDEO
duration_seconds
status  -- UPLOADED / EDITED / APPROVED / REJECTED
admin_comment
created_at


âœ” Editor role fully integrated
âœ” Reusable ads
âœ” Preview before booking

9ï¸âƒ£ BO

CouldCampai

bookings
--------
id (PK)
advertiser_id (FK â†’ users.id)
start_date
end_date
is_campaign
total_price
status  -- PENDING / CONFIRMED / CANCELLED
created_at
updated_at


âœ” Multi-screen booking
âœ” Payment linked here

ğŸ”Ÿ BO

Even though Slot locking + availability.

booking_screens
---------------
id (PK)
booking_id (FK â†’ bookings.id)
screen_id (FK â†’ screens.id)
booking_date
time_slot_id (FK â†’ time_slots.id)
slot_status  -- LOCKED / CONFIRMED
lock_expiry
created_at


âœ” Prevents overlap
âœ” Green/Red calendar
âœ” Campaign support

1ï¸âƒ£1ï¸âƒ£ PAYMENTS

Purpose: Payment integrity.

payments
--------
id (PK)
booking_id (FK â†’ bookings.id)
amount
payment_status  -- CREATED / SUCCESS / FAILED
transaction_reference
payment_time
created_at


âœ” Booking valid only after SUCCESS
âœ” Razorpay-ready

1ï¸âƒ£2ï¸âƒ£ PRICING_RULES

Purpose: Dynamic pricing engine.

pricing_rules
-------------
id (PK)
location_id (FK â†’ locations.id)
category_id (FK â†’ screen_categories.id)
slot_type  -- PEAK / NON_PEAK
price_multiplier
active
created_at


âœ” Admin-controlled
âœ” Used by pricing + AI

1ï¸âƒ£3ï¸âƒ£ EM

Purple Booking confirmation proof.

email_logs
----------
id (PK)
user_id (FK â†’ users.id)
booking_id (FK â†’ bookings.id)
email_type  -- CONFIRMATION
status  -- SENT / FAILED
created_at


âœ” Reliable notification
âœ” Debugging

1ï¸âƒ£4ï¸âƒ£ ANALYTICS_DAILY

Purple Admin dashboard snapshot.

analytics_daily
---------------
id (PK)
date
total_bookings
total_revenue
total_ads


âœ” Admin analytics
âœ” No runtime heavy queries

ğŸš« DERIVED (NOT STORED)
SCREEN_AVAILABILITY

Calculated from:

booking_screens

time_slots

Never stored(correct

ğŸ” ROLE â†’ TABLE ACCESS (FINAL)
Role	Access
Advertiser	users, bookings, booking_screens, payments, advertisements
Screen Owner	users, screens, bookings (read), payments (read)
Ad Editor	users, advertisements
Admin	ALL tables
AI Engine	screens, locations, categories, pricing_rules
âœ… FINAL WITH

âœ” All 14 locked functionalities covered
âœ” All 4 roles fully integrated
âœ” No table is extra
âœ” No feature missing
âœ” JPA-ready
âœ” SRS & UML ready
âœ” Backend-first safe
âœ” Future-proof